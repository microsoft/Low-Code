<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-list-page plugin-blog plugin-id-default">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">#30DaysOfLowCode | Low Code &amp; Fusion Dev</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" property="og:image" content="https://microsoft.github.io/Low-Code/img/og/30-banner.png"><meta data-rh="true" property="og:url" content="https://microsoft.github.io/Low-Code/blog/page/2"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" property="og:title" content="#30DaysOfLowCode | Low Code &amp; Fusion Dev"><meta data-rh="true" name="description" content="Jumpstart your #LowCode and #FusionDev learning journey with #30Days of content and resources"><meta data-rh="true" property="og:description" content="Jumpstart your #LowCode and #FusionDev learning journey with #30Days of content and resources"><meta data-rh="true" name="docusaurus_tag" content="blog_posts_list"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_posts_list"><meta data-rh="true" name="twitter:url" content="https://microsoft.github.io/Low-Code/img/og/30-27.png"><meta data-rh="true" name="twitter:title" content="27. API Managemetn and Power Platform"><meta data-rh="true" name="twitter:description" content="Introducing Authorizations in Azure API Management and showcasing its capabilities together with the Microsoft Power Platform. - join us at #30DaysOfLowCode and #LowCodeFebruary https://aka.ms/lowcode-february."><meta data-rh="true" name="twitter:image" content="https://microsoft.github.io/Low-Code/img/og/30-27.png"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" name="twitter:creator" content="@Jujujuliakasper"><meta data-rh="true" name="twitter:site" content="@AzureAdvocates"><link data-rh="true" rel="icon" href="/Low-Code/img/favicon.ico"><link data-rh="true" rel="alternate" href="https://microsoft.github.io/Low-Code/blog/page/2" hreflang="en"><link data-rh="true" rel="alternate" href="https://microsoft.github.io/Low-Code/blog/page/2" hreflang="x-default"><link data-rh="true" rel="canonical" href="https://microsoft.github.io/Low-Code/img/og/30-27.png"><link rel="alternate" type="application/rss+xml" href="/Low-Code/blog/rss.xml" title="Low Code &amp; Fusion Dev RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/Low-Code/blog/atom.xml" title="Low Code &amp; Fusion Dev Atom Feed">




<script>!function(e,t,n,c,s,a,r){e[n]=e[n]||function(){(e[n].q=e[n].q||[]).push(arguments)},(a=t.createElement(c)).async=1,a.src="https://www.clarity.ms/tag/eze7lsqnch",(r=t.getElementsByTagName(c)[0]).parentNode.insertBefore(a,r)}(window,document,"clarity","script")</script><link rel="stylesheet" href="/Low-Code/assets/css/styles.3b56b261.css">
<link rel="preload" href="/Low-Code/assets/js/runtime~main.f6b0d7e3.js" as="script">
<link rel="preload" href="/Low-Code/assets/js/main.e853704f.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" style="background-color:#000000;color:#ffffff" role="banner"><div class="content_knG7 announcementBarContent_xLdY"><b> <a href="https://aka.ms/lowcode-february/challenge"> Take Our Cloud Skills Challenge! </a> | Give us <a href="https://github.com/microsoft/Low-Code"><b> a ðŸŒŸ on GitHub</b></a> </b> </div></div><nav class="navbar navbar--fixed-top navbar--primary"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/Low-Code/"><div class="navbar__logo"><img src="/Low-Code/img/logo.png" alt="Low Code Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/Low-Code/img/logo.png" alt="Low Code Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate"> </b></a><a class="navbar__item navbar__link" href="/Low-Code/lowcode-february">#LowCodeFebruary</a><a href="https://aka.ms/lowcode-february/devplan" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">âœ¨ Dev Plan</a><a href="https://aka.ms/lowcode-february/vscode" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">ðŸ§° Extension</a><a href="https://learn.microsoft.com/events/learn-events/powerful-devs-2023/?WT.mc_id=javascript-82212-ninarasi" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">ðŸŽ™ #PowerfulDevs</a></div><div class="navbar__items navbar__items--right"><a href="https://aka.ms/lowcode-february/collection" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Collection</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/Low-Code/blog">Blog</a><a href="https://aka.ms/lowcode-february/videos" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Video</a><a class="navbar__item navbar__link" href="/Low-Code/docs/intro">Workshops</a><a class="navbar__item navbar__link" href="/Low-Code/calendar">Calendar</a><a href="https://github.com/microsoft/Low-Code" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent Articles</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Low-Code/blog/2023-next-steps">Continue The Journey!</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Low-Code/blog/2023-day27">27. ðŸš€API Management &amp; Power Platform</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Low-Code/blog/2023-day26">26. Recap - Dev Experience Week âœ¨</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Low-Code/blog/2023-day24">24. Power Apps &amp; Automated Testing</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Low-Code/blog/2023-day23">23. Power Platform and Governance</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Low-Code/blog/2023-day22">22. Power Automate, ACS and OpenAI</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Low-Code/blog/2023-day21">21. GitHub Actions for Power</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Low-Code/blog/2023-day20">20. ALM For Power Platform</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Low-Code/blog/2023-day19">19. Recap - Interface Week âœ¨</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Low-Code/blog/2023-day18">18. Power Pages for ProDevs</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Low-Code/blog/2023-day17">17. Build a PCF Control</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Low-Code/blog/2023-day16">16. Intro to PCF Control</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Low-Code/blog/2023-day15">15. ðŸš€ OpenAI &amp; Microsoft Power Platform</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Low-Code/blog/2023-day14">14. Intro to Power Fx</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Low-Code/blog/2023-day13">13. Build a Canvas App</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Low-Code/blog/2023-day12">12. Recap - Integrations Week âœ¨</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Low-Code/blog/2023-day11">11. Azure Integration Patterns</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Low-Code/blog/2023-day10">10. Secure Connectors with APIM</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Low-Code/blog/2023-day9-use">9b. Use the Custom Connector</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Low-Code/blog/2023-day9-build">9a. Build a Custom Connector</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Low-Code/blog/2023-day8">8. Serverless Low Code</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Low-Code/blog/2023-day7">7. Dataverse - Do more with Data, for less!</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Low-Code/blog/2023-day6">6. Let&#x27;s Make Some Connections!</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Low-Code/blog/2023-day5">5. Recap - Fundamentals Week âœ¨</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Low-Code/blog/2023-day4">4. ðŸš€ Developer Stories</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Low-Code/blog/2023-day3">3. DevTools &amp; Onboarding</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Low-Code/blog/2023-day2">2. You say Low, I say Code!</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Low-Code/blog/2023-day1">1. Hello, 30DaysOfLowCode!</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Low-Code/blog/2023-kickoff">It&#x27;s a Low Code February!</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="image" content="https://microsoft.github.io/Low-Code/img/og/30-27.png"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/Low-Code/blog/2023-day27">27. ðŸš€API Management &amp; Power Platform</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-02-27T00:00:00.000Z" itemprop="datePublished">February 27, 2023</time> Â· <!-- -->8 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/juliajuju93" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/juliajuju93.png" alt="Julia Kasper"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/juliajuju93" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Julia Kasper</span></a></div><small class="avatar__subtitle" itemprop="description">Program Manager II</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>Welcome to <code>Day 27</code> of #30DaysOfLowCode!</p><p>Introducing <a href="https://learn.microsoft.com/en-us/azure/api-management/authorizations-overview?WT.mc_id=javascript-82212-ninarasi" target="_blank" rel="noopener noreferrer">Authorizations</a> in Azure API Management and showcasing its capabilities together with the Microsoft Power Platform. Last time, we talked about how we can provide extra <a href="https://microsoft.github.io/Low-Code/blog/2023-day10" target="_blank" rel="noopener noreferrer">security to our web APIs using Azure API Management</a>. In this section, we will talk about the <a href="https://learn.microsoft.com/en-us/azure/api-management/authorizations-overview?WT.mc_id=javascript-82212-ninarasi" target="_blank" rel="noopener noreferrer">Authorizations</a> feature in Azure API Management and how this can elevate your low-code journey with web APIs.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-well-cover">What We&#x27;ll Cover<a class="hash-link" href="#what-well-cover" title="Direct link to heading">â€‹</a></h2><ul><li><a href="#what-is-api-management-authorizations">What is API Management Authorizations</a></li><li><a href="#scenario---power-apps-integration-with-github-and-api-management-authorizations">Scenario - Power Apps integration with GitHub and API Management Authorizations</a></li><li><a href="#scenario-overview">Scenario Overview</a></li><li><a href="#prerequisites">Prerequisites</a></li><li><a href="#step-1-register-an-application-in-github-for-your-organization">Step 1: Register an application in GitHub for your organization</a></li><li><a href="#step-2-configure-an-authorization-in-api-management">Step 2: Configure an authorization in API Management</a></li><li><a href="#step-3-create-an-api-in-api-management-and-configure-a-policy">Step 3: Create an API in API Management and configure a policy</a></li><li><a href="#step-4-create-a-custom-connector-for-the-microsoft-power-platform-using-api-management">Step 4: Create a custom connector for the Microsoft Power Platform using API Management</a></li><li><a href="#step-5-call-your-web-api-via-your-power-app">Step 5: Call your web API via your Power App</a></li></ul><p><img loading="lazy" alt="feb27" src="/Low-Code/assets/images/30-27-c59d588b7a5514e6518adcbe834049e1.png" width="1334" height="560" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-is-api-management-authorizations">What is API Management Authorizations<a class="hash-link" href="#what-is-api-management-authorizations" title="Direct link to heading">â€‹</a></h2><p><a href="https://learn.microsoft.com/en-us/azure/api-management/authorizations-overview" target="_blank" rel="noopener noreferrer">API Management authorizations</a> allows you to delegate authentication to API Management to let it authenticate against a given backend service or a given SaaS platform. It greatly simplifies the process for authenticating and authorizing users across these services and reduces development costs in ramping up, implementing and maintaining security features with service integrations. It lets you configure OAuth, Consent, Acquire Tokens, Cache Tokens and refreshes tokens for multiple services without writing a single line of code. API Management does all the heavy lifting for you, while you can focus on the application/domain logic.</p><blockquote><p><em>Note: It differs from managed identity in that it spans multiple identity providers (IDP), as it is not tight to Azure Active Directory. It also leverages OAuth flows, such as the Authorization code flow, while managed identities stick to the Client Credentials Grant.</em></p></blockquote><h2 class="anchor anchorWithStickyNavbar_LWe7" id="scenario---power-apps-integration-with-github-and-api-management-authorizations">Scenario - Power Apps integration with GitHub and API Management Authorizations<a class="hash-link" href="#scenario---power-apps-integration-with-github-and-api-management-authorizations" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="scenario-overview">Scenario Overview<a class="hash-link" href="#scenario-overview" title="Direct link to heading">â€‹</a></h3><p>Imagine having a GitHub organization with multiple <a href="https://docs.github.com/en/organizations/collaborating-with-your-team/about-team-discussions" target="_blank" rel="noopener noreferrer">team discussions</a>. In one of your team discussions, you want to collect issues from users via comments. Now, to post a GitHub comment, every user requires a GitHub account and needs to understand where to find the relevant team discussion.</p><blockquote><p>Let&#x27;s create a Power App that uses a custom connector to call the right GitHub API to post a comment about an issues to a team&#x27;s discussion.</p></blockquote><p>Note: Microsoft Power Platform offers wide varity of pre-installed connectors, one of them for <a href="https://learn.microsoft.com/en-us/connectors/github/" target="_blank" rel="noopener noreferrer">GitHub</a>. For our scenarios however, this connector doesn&#x27;t provide us with the right capability. Creating a custom connector using Azure API Management is an easy and secure way to expose your microservices/APIs directly. This way, you can expand the possibilities with the Microsoft Power Platform and adapt it according to your organization&#x27;s use cases.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a class="hash-link" href="#prerequisites" title="Direct link to heading">â€‹</a></h3><ul><li>A GitHub account is required.</li><li>A team discussion in your GitHub organization. Follow <a href="https://docs.github.com/en/organizations/collaborating-with-your-team/creating-a-team-discussion" target="_blank" rel="noopener noreferrer">Creating a team discussion</a> for more information.</li><li>A running API Management instance. Complete the followingÂ <a href="https://learn.microsoft.com/en-us/azure/api-management/get-started-create-service-instance" target="_blank" rel="noopener noreferrer">Quickstart: Create a new Azure API Management service instance by using the Azure portal</a>.</li><li>Enable <a href="https://learn.microsoft.com/en-us/azure/api-management/api-management-howto-use-managed-service-identity" target="_blank" rel="noopener noreferrer">managed service identiy</a> for API Management in the API Management instance.</li><li>Make sure you have a Power Apps or Power Automate <a href="https://learn.microsoft.com/en-us/power-apps/powerapps-overview#power-apps-for-developers" target="_blank" rel="noopener noreferrer">environment</a>.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-1-register-an-application-in-github-for-your-organization">Step 1: Register an application in GitHub for your organization<a class="hash-link" href="#step-1-register-an-application-in-github-for-your-organization" title="Direct link to heading">â€‹</a></h3><ol><li><p>Sign in to GitHub.</p></li><li><p>In your account profile, go to <strong>Your organizations</strong> and select the organization that the scenario is for.</p><p><img loading="lazy" alt="feb27" src="/Low-Code/assets/images/organization-2977eb3612ff11eee08f1ac4ce8f1e6c.png" width="874" height="2023" class="img_ev3q"></p></li><li><p>In your organization&#x27;s profile, go toÂ <strong>Settings &gt; Developer Settings &gt; OAuth Apps &gt; New OAuth App</strong></p></li></ol><ul><li>Enter <em>teamdiscussion</em> as your <strong>Application name</strong></li><li><em><a href="https://portal.azure.com" target="_blank" rel="noopener noreferrer">https://portal.azure.com</a></em> as your <strong>Homepage URL</strong></li><li>Optionally, add anÂ application description.</li><li>InÂ <strong>Authorization callback URL</strong>Â (the redirect URL), enter <em><a href="https://authorization-manager.consent.azure-apim.net/redirect/apim/%7BYOUR-APIM-SERVICENAME%7D" target="_blank" rel="noopener noreferrer">https://authorization-manager.consent.azure-apim.net/redirect/apim/{YOUR-APIM-SERVICENAME}</a></em> (substituting the API Management service name that is used).</li></ul><ol start="4"><li><p>SelectÂ <strong>Register application</strong>.</p></li><li><p>In theÂ GeneralÂ page, copy theÂ <strong>Client ID</strong>, which you&#x27;ll use in a later step.</p></li><li><p>SelectÂ <strong>Generate a new client secret</strong>. Copy the secret, which won&#x27;t be displayed again, and which you&#x27;ll use in a later step.</p><p><img loading="lazy" alt="feb27" src="/Low-Code/assets/images/teamdiscussion-eacad1d173d327416fc4a8d934d980cb.png" width="3540" height="2319" class="img_ev3q"></p></li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-2-configure-an-authorization-in-api-management">Step 2: Configure an authorization in API Management<a class="hash-link" href="#step-2-configure-an-authorization-in-api-management" title="Direct link to heading">â€‹</a></h3><ol><li><p>Sign into Azure portal and go to your API Management instance.</p></li><li><p>In the left menu, selectÂ <strong>AuthorizationsÂ &gt;Â + Create</strong>.</p><p><img loading="lazy" alt="feb27" src="/Low-Code/assets/images/authportal-0524f17569c382a5e8bddb5547b8a7e0.png" width="1217" height="636" class="img_ev3q"></p></li><li><p>In theÂ <strong>Create authorizationÂ window</strong>, enter the following settings, and selectÂ <strong>Create</strong>:</p><table><thead><tr><th>Settings</th><th>Value</th></tr></thead><tbody><tr><td>Provider name</td><td><em>github-discussion</em></td></tr><tr><td>Identity provider</td><td>SelectÂ <em>GitHub</em></td></tr><tr><td>Grant type</td><td>SelectÂ <em>Authorization code</em></td></tr><tr><td>Client id</td><td>Paste the value you copied earlier from the app registration</td></tr><tr><td>Client secret</td><td>Paste the value you copied earlier from the app registration</td></tr><tr><td>Scope</td><td><em>write:discussion</em></td></tr><tr><td>Authorization name</td><td><em>auth-discussion</em></td></tr></tbody></table></li><li><p>After the authorization provider and authorization are created, selectÂ <strong>Next</strong>.</p></li><li><p>On theÂ <strong>LoginÂ tab</strong>, selectÂ <strong>Login with GitHub</strong>. Before the authorization will work, it needs to be authorized at GitHub.</p></li><li><p>Sign in to your GitHub account if you&#x27;re prompted to do so. If prompted during redirection, selectÂ <strong>Allow access</strong>.
<img loading="lazy" alt="feb27" src="/Low-Code/assets/images/allowaccess-9b85a0c416587117976bbe267716e53c.png" width="1850" height="1197" class="img_ev3q"></p></li><li><p>After authorization, the browser is redirected to API Management and the window is closed. In API Management, selectÂ <strong>Next</strong>.</p></li><li><p>On theÂ Access policyÂ page, create an access policy so that API Management has access to use the authorization. <em>Note: Ensure that a <a href="https://learn.microsoft.com/en-us/azure/api-management/api-management-howto-use-managed-service-identity#create-a-system-assigned-managed-identity" target="_blank" rel="noopener noreferrer">managed identity</a> is configured for API Management.</em></p></li><li><p>SelectÂ <strong>Managed identityÂ + Add members</strong>Â and then select your subscription.</p></li><li><p>InÂ <strong>Select managed identity</strong>, selectÂ <strong>API Management service</strong>, and then select the API Management instance that is used. ClickÂ <strong>Select</strong>Â and thenÂ <strong>Complete</strong>.</p><p><img loading="lazy" alt="feb27" src="/Low-Code/assets/images/accesspolicy-4c18a37d9595eb544b65daf33b419dfc.png" width="1247" height="618" class="img_ev3q"></p></li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-3-create-an-api-in-api-management-and-configure-a-policy">Step 3: Create an API in API Management and configure a policy<a class="hash-link" href="#step-3-create-an-api-in-api-management-and-configure-a-policy" title="Direct link to heading">â€‹</a></h3><ol><li><p>Sign into Azure portal and go to your API Management instance.</p></li><li><p>In the left menu, selectÂ <strong>APIs &gt; + Add API</strong> and select <strong>HTTP</strong>.</p><p><img loading="lazy" alt="feb27" src="/Low-Code/assets/images/addapi-5638e6105cd44f8b422bacd5c4381ea0.png" width="3652" height="2257" class="img_ev3q"></p></li><li><p>Enter the following settings. Then selectÂ <strong>Create</strong>.</p><table><thead><tr><th>Settings</th><th>Value</th></tr></thead><tbody><tr><td>Display name</td><td><em>githubdiscussion</em></td></tr><tr><td>Name</td><td><em>githubdiscussion</em></td></tr><tr><td>Web service URL</td><td><em><a href="https://api.github.com" target="_blank" rel="noopener noreferrer">https://api.github.com</a></em></td></tr><tr><td>API URL suffix</td><td><em>githubdiscussion</em></td></tr></tbody></table></li><li><p>Navigate to the newly created API and selectÂ <strong>Add Operation</strong>. Enter the following settings and selectÂ <strong>Save</strong>.</p><table><thead><tr><th>Settings</th><th>Value</th></tr></thead><tbody><tr><td>Display name</td><td><em>POSTdiscussioncomment</em></td></tr><tr><td>URL for <strong>POST</strong></td><td><em>/orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments</em></td></tr></tbody></table></li></ol><p>Please find here an example of a POST URL: </p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/orgs/AuthorizationsOrganization/teams/AuthorizationEngineering/discussions/1/comments</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="feb27" src="/Low-Code/assets/images/addoperation-e8876236039bbb1a213dbc47325da5d1.png" width="4152" height="1807" class="img_ev3q"></p><ol start="5"><li><p>Next, we need to add a <strong>Request Body</strong> to your API. For this, within your Frontend section scroll down and select <strong>Request</strong>.</p><p><img loading="lazy" alt="feb27" src="/Low-Code/assets/images/request-14c26d1fbe35ed10ee43b342f4f489cf.png" width="4142" height="1801" class="img_ev3q"></p></li><li><p>Now <strong>Add representation</strong> and insert the following information:</p><table><thead><tr><th>Representations</th><th></th></tr></thead><tbody><tr><td>CONTENT TYPE</td><td>application/json</td></tr><tr><td>DEFINITION</td><td>{&quot;body&quot;:&quot;This is a test issue&quot;}</td></tr></tbody></table><p><img loading="lazy" alt="feb27" src="/Low-Code/assets/images/representation-310ea5ecb1de1ed30be5b7f3fc600bc8.png" width="3136" height="1501" class="img_ev3q"></p></li><li><p>Select <strong>All operations</strong> and in theÂ <strong>Inbound processing</strong>Â section, select the <code>(&lt;/&gt;)</code> (code editor) icon.</p></li><li><p>Copy the following, and paste in the policy editor. Make sure the provider-id and authorization-id correspond to the names in our previous step. SelectÂ <strong>Save</strong>.</p></li></ol><p>Inbound policy:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;policies&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;inbound&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;base /&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;get-authorization-context provider-id=&quot;github-discussion&quot; authorization-id=&quot;auth-discussion&quot; context-variable-name=&quot;auth-context&quot; identity-type=&quot;managed&quot; ignore-error=&quot;false&quot; /&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;set-header name=&quot;Authorization&quot; exists-action=&quot;override&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;value&gt;@(&quot;Bearer &quot; + ((Authorization)context.Variables.GetValueOrDefault(&quot;auth-context&quot;))?.AccessToken)&lt;/value&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;/set-header&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;set-header name=&quot;Accept&quot; exists-action=&quot;override&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;value&gt;application/vnd.github+json&lt;/value&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;/set-header&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;set-header name=&quot;X-GitHub-Api-Version&quot; exists-action=&quot;override&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;value&gt;2022-11-28&lt;/value&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;/set-header&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;set-header name=&quot;User-Agent&quot; exists-action=&quot;override&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;value&gt;API Management&lt;/value&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;/set-header&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/inbound&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;backend&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;base /&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/backend&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;outbound&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;base /&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/outbound&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;on-error&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;base /&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/on-error&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/policies&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>Note: The policy to be used consists of five parts.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">1. Fetch an authorization token.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2. Create an HTTP header with the fetched authorization token.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3. Create an HTTP header with an accept header [(API requirement)](https://docs.github.com/en/rest/teams/discussion-comments?apiVersion=2022-11-28#create-a-discussion-comment).</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">4. Create an HTTP header with a X-GitHub-Api-Version header [(API requirement)](https://docs.github.com/en/rest/teams/discussion-comments?apiVersion=2022-11-28#create-a-discussion-comment).</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">5. Create an HTTP header with aÂ User-AgentÂ header [(GitHub requirement)](https://docs.github.com/rest/overview/resources-in-the-rest-api#user-agent-required).</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></blockquote><ol start="9"><li>Test the API in Azure API Management:</li></ol><ul><li>Select your operation.</li><li>Go to theÂ TestÂ tab.</li><li>SelectÂ Send.</li></ul><p>You should get a <strong>HTTP/1.1 201 Created</strong> response and a comment should have been posted in your team&#x27;s discussion.</p><p>  <img loading="lazy" alt="feb27" src="/Low-Code/assets/images/test-0a0ecc26dba34f3ad59d309195d11089.png" width="3470" height="1911" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-4-create-a-custom-connector-for-the-microsoft-power-platform-using-api-management">Step 4: Create a custom connector for the Microsoft Power Platform using API Management<a class="hash-link" href="#step-4-create-a-custom-connector-for-the-microsoft-power-platform-using-api-management" title="Direct link to heading">â€‹</a></h3><p>As soon as your API was tested successfully, you are now able to export your web API to the Microsoft Power Platform. Please find a detailed guide here: <a href="https://learn.microsoft.com/en-us/azure/api-management/export-api-power-platform" target="_blank" rel="noopener noreferrer">Export APIs from Azure API Management to the Power Platform</a>.
If you want to add additional security to your API, check out our blog post on <a href="https://microsoft.com" target="_blank" rel="noopener noreferrer">10. Providing Power Platform custom connector with additional security via Azure API Management</a></p><p>  <img loading="lazy" alt="feb27" src="/Low-Code/assets/images/createpower-c06b51552a8aa8f48d939d4037c0953b.png" width="3025" height="2291" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-5-call-your-web-api-via-your-power-app">Step 5: Call your web API via your Power App<a class="hash-link" href="#step-5-call-your-web-api-via-your-power-app" title="Direct link to heading">â€‹</a></h3><p>Next, we want to make an API call within your Power App. For this, we created a very simple Power App as our front-end with a <strong>Send</strong> Button and a <strong>TextInput</strong> field.</p><ol><li><p>In your Power App, add your custom connector to your Power App via the tab <strong>data &gt; + Add data</strong>.</p><p><img loading="lazy" alt="feb27" src="/Low-Code/assets/images/customconnectorpower-fd0c3bb897cde1e1311feb60ffb79a29.png" width="1677" height="2259" class="img_ev3q"></p></li><li><p>Next, we modify our <strong>Send</strong> Button with the following PowerFX formular:</p></li></ol><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">githubdiscussion.postdiscussioncomment({body:TextInputFeedback.Text}); Reset(TextInputFeedback); Notify(&quot;Success: 201 Created&quot;,NotificationType.Success)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>  <img loading="lazy" alt="powerappsinput" src="/Low-Code/assets/images/powerappsinput-0df6c0cdd028beaa33603424c87a7305.png" width="3971" height="1773" class="img_ev3q"></p><ol start="3"><li>Now, you are able to test your Power App and create a new comment in your GitHub team&#x27;s discussion.</li></ol><blockquote><p>Enjoy this fun little tutorial and let us know what you think! <a href="https://www.linkedin.com/in/jukasper/" target="_blank" rel="noopener noreferrer">@jukasper</a></p></blockquote></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/Low-Code/blog/tags/low-code-february">low-code-february</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/Low-Code/blog/tags/30-days-of-lowcode">30-days-of-lowcode</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/Low-Code/blog/tags/zero-to-hero">zero-to-hero</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/Low-Code/blog/tags/fusion-teams">fusion-teams</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/Low-Code/blog/tags/power-platform">power-platform</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/Low-Code/blog/tags/api-management">API Management</a></li></ul></div></footer></article><nav class="pagination-nav" aria-label="Blog list page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/Low-Code/blog"><div class="pagination-nav__label">Newer Entries</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/Low-Code/blog/page/3"><div class="pagination-nav__label">Older Entries</div></a></nav></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__links text--center"><div class="footer__links"><a href="https://aka.ms/lowcode-february/collection" target="_blank" rel="noopener noreferrer" class="footer__link-item">Collection</a><span class="footer__link-separator">Â·</span><a href="https://learn.microsoft.com/power-platform/developer/get-started?WT.mc_id=javascript-82212-ninarasi" target="_blank" rel="noopener noreferrer" class="footer__link-item">Power Platform</a><span class="footer__link-separator">Â·</span><a href="https://learn.microsoft.com/power-virtual-agents/fundamentals-what-is-power-virtual-agents?WT.mc_id=javascript-82212-ninarasi" target="_blank" rel="noopener noreferrer" class="footer__link-item">Power Virtual Agents</a><span class="footer__link-separator">Â·</span><a href="https://learn.microsoft.com/power-automate/getting-started?WT.mc_id=javascript-82212-ninarasi" target="_blank" rel="noopener noreferrer" class="footer__link-item">Power Automate</a><span class="footer__link-separator">Â·</span><a href="https://learn.microsoft.com/power-apps/powerapps-overview?WT.mc_id=javascript-82212-ninarasi" target="_blank" rel="noopener noreferrer" class="footer__link-item">Power Apps</a><span class="footer__link-separator">Â·</span><a href="https://learn.microsoft.com/power-bi/fundamentals/power-bi-service-overview?WT.mc_id=javascript-82212-ninarasi" target="_blank" rel="noopener noreferrer" class="footer__link-item">Power BI</a><span class="footer__link-separator">Â·</span><a href="https://learn.microsoft.com/power-pages/introduction?WT.mc_id=javascript-82212-ninarasi" target="_blank" rel="noopener noreferrer" class="footer__link-item">Power Pages</a><span class="footer__link-separator">Â·</span><a href="https://go.microsoft.com/fwlink/?LinkId=521839" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy</a><span class="footer__link-separator">Â·</span><a href="https://go.microsoft.com/fwlink/?linkid=2259814" target="_blank" rel="noopener noreferrer" class="footer__link-item">Consumer Health Privacy</a><span class="footer__link-separator">Â·</span><a href="https://microsoft.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Copyright Â© 2024 Microsoft</a></div></div></div></footer></div>
<script src="/Low-Code/assets/js/runtime~main.f6b0d7e3.js"></script>
<script src="/Low-Code/assets/js/main.e853704f.js"></script>
</body>
</html>
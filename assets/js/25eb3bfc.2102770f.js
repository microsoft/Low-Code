"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[8687],{4137:(t,e,a)=>{a.d(e,{Zo:()=>c,kt:()=>g});var n=a(7294);function o(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function r(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function i(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?r(Object(a),!0).forEach((function(e){o(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function l(t,e){if(null==t)return{};var a,n,o=function(t,e){if(null==t)return{};var a,n,o={},r=Object.keys(t);for(n=0;n<r.length;n++)a=r[n],e.indexOf(a)>=0||(o[a]=t[a]);return o}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(n=0;n<r.length;n++)a=r[n],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(o[a]=t[a])}return o}var s=n.createContext({}),p=function(t){var e=n.useContext(s),a=e;return t&&(a="function"==typeof t?t(e):i(i({},e),t)),a},c=function(t){var e=p(t.components);return n.createElement(s.Provider,{value:e},t.children)},m="mdxType",d={inlineCode:"code",wrapper:function(t){var e=t.children;return n.createElement(n.Fragment,{},e)}},k=n.forwardRef((function(t,e){var a=t.components,o=t.mdxType,r=t.originalType,s=t.parentName,c=l(t,["components","mdxType","originalType","parentName"]),m=p(a),k=o,g=m["".concat(s,".").concat(k)]||m[k]||d[k]||r;return a?n.createElement(g,i(i({ref:e},c),{},{components:a})):n.createElement(g,i({ref:e},c))}));function g(t,e){var a=arguments,o=e&&e.mdxType;if("string"==typeof t||o){var r=a.length,i=new Array(r);i[0]=k;var l={};for(var s in e)hasOwnProperty.call(e,s)&&(l[s]=e[s]);l.originalType=t,l[m]="string"==typeof t?t:o,i[1]=l;for(var p=2;p<r;p++)i[p]=a[p];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}k.displayName="MDXCreateElement"},8666:(t,e,a)=>{a.r(e),a.d(e,{assets:()=>s,contentTitle:()=>i,default:()=>m,frontMatter:()=>r,metadata:()=>l,toc:()=>p});var n=a(7462),o=(a(7294),a(4137));const r={sidebar_position:1,title:"1. Build Custom Connector"},i=void 0,l={unversionedId:"prodev-4/step-1",id:"prodev-4/step-1",title:"1. Build Custom Connector",description:"Working as part of the PrioritZ fusion team you will be configuring a custom connector for an existing API.  The team would like to add badging to the PrioritZ application to give credit to users when they have completed ranking an item.  The team identified an existing API, but it doesn't have a Power Platform connector.",source:"@site/docs/prodev-4/step-1.md",sourceDirName:"prodev-4",slug:"/prodev-4/step-1",permalink:"/Low-Code/docs/prodev-4/step-1",draft:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1,title:"1. Build Custom Connector"},sidebar:"tutorialSidebar",previous:{title:"4. Add Component to Solution",permalink:"/Low-Code/docs/prodev-3/step-4"},next:{title:"2. Add Custom Code",permalink:"/Low-Code/docs/prodev-4/step-2"}},s={},p=[{value:"1.1 Download open API definition and create solution",id:"11-download-open-api-definition-and-create-solution",level:2},{value:"1.2 Create custom connector",id:"12-create-custom-connector",level:2},{value:"1.3 Modify the definition",id:"13-modify-the-definition",level:2},{value:"1.4 Test connector",id:"14-test-connector",level:2}],c={toc:p};function m(t){let{components:e,...r}=t;return(0,o.kt)("wrapper",(0,n.Z)({},c,r,{components:e,mdxType:"MDXLayout"}),(0,o.kt)("admonition",{title:"LAB SCENARIO",type:"info"},(0,o.kt)("p",{parentName:"admonition"},"Working as part of the PrioritZ fusion team you will be configuring a custom connector for an existing API.  The team would like to add badging to the PrioritZ application to give credit to users when they have completed ranking an item.  The team identified an existing API, but it doesn't have a Power Platform connector.  "),(0,o.kt)("p",{parentName:"admonition"},"When you review the API, you see that it has four operations and uses API key authentication."),(0,o.kt)("p",{parentName:"admonition"},(0,o.kt)("img",{alt:"Lab-03 Image",src:a(2200).Z,width:"742",height:"649"})),(0,o.kt)("p",{parentName:"admonition"},"In ",(0,o.kt)("strong",{parentName:"p"},"Exercise 1")," you will download open API definition, create a solution for Contoso Badges custom connector. Currently, custom connectors must be in a separate solution from the apps and flows that use them, and then create the custom connector.")),(0,o.kt)("h2",{id:"11-download-open-api-definition-and-create-solution"},"1.1 Download open API definition and create solution"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Navigate to ",(0,o.kt)("a",{parentName:"p",href:"https://aka.ms/lowcode-february/workshop/contoso"},(0,o.kt)("strong",{parentName:"a"},"Contoso Coffee Badges")))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Click on open the ",(0,o.kt)("strong",{parentName:"p"},"Open API definition")," file link."))),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Lab-03 Image",src:a(9931).Z,width:"678",height:"374"})),(0,o.kt)("ol",{start:3},(0,o.kt)("li",{parentName:"ol"},"Do a quick review of the Open API definition."),(0,o.kt)("li",{parentName:"ol"},"Right click on the page and select ",(0,o.kt)("strong",{parentName:"li"},"Save as"),".")),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Lab-03 Image",src:a(3926).Z,width:"820",height:"308"})),(0,o.kt)("ol",{start:5},(0,o.kt)("li",{parentName:"ol"},"Save the ",(0,o.kt)("inlineCode",{parentName:"li"},"swagger.json")," file on your local computer.")),(0,o.kt)("h2",{id:"12-create-custom-connector"},"1.2 Create custom connector"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Navigate to ",(0,o.kt)("a",{parentName:"li",href:"https://aka.ms/lowcode-february/makerportal"},(0,o.kt)("strong",{parentName:"a"},"Power Apps maker portal"))," and make sure you are in your dev environment."),(0,o.kt)("li",{parentName:"ol"},"Select ",(0,o.kt)("strong",{parentName:"li"},"Solutions")," and click ",(0,o.kt)("strong",{parentName:"li"},"+ New solution"),".")),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Lab-03 Image",src:a(9928).Z,width:"810",height:"387"})),(0,o.kt)("ol",{start:3},(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Enter ",(0,o.kt)("strong",{parentName:"p"},"Contoso Badges connector")," for Display name, select ",(0,o.kt)("strong",{parentName:"p"},"Contoso Coffee")," for Publisher, and click Create.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Open the ",(0,o.kt)("strong",{parentName:"p"},"Contoso Badges connector")," solution you created.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Click ",(0,o.kt)("strong",{parentName:"p"},"+ New | Automation")," and select ",(0,o.kt)("strong",{parentName:"p"},"Custom connector"),"."))),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Lab-03 Image",src:a(7503).Z,width:"940",height:"263"})),(0,o.kt)("ol",{start:6},(0,o.kt)("li",{parentName:"ol"},"Enter ",(0,o.kt)("strong",{parentName:"li"},"Badges connector")," for Connector name, ",(0,o.kt)("inlineCode",{parentName:"li"},"contosobadgestest.azurewebsites.net")," for Host, and click Create connector.")),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Lab-03 Image",src:a(6517).Z,width:"809",height:"535"})),(0,o.kt)("ol",{start:7},(0,o.kt)("li",{parentName:"ol"},"Select Custom connectors from the sitemap."),(0,o.kt)("li",{parentName:"ol"},"Click on the ",(0,o.kt)("strong",{parentName:"li"},"\u2026 More actions")," button of the custom connector you created and select ",(0,o.kt)("strong",{parentName:"li"},"Update from Open API file"),".")),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Lab-03 Image",src:a(1995).Z,width:"862",height:"386"})),(0,o.kt)("ol",{start:9},(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Click ",(0,o.kt)("strong",{parentName:"p"},"Import"),".")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Select the ",(0,o.kt)("inlineCode",{parentName:"p"},"swagger.json")," file you saved to your machine and click ",(0,o.kt)("strong",{parentName:"p"},"Open"),".")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Click Continue.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Enter Connector for badges for Description, ",(0,o.kt)("inlineCode",{parentName:"p"},"contosobadgestest.azurewebsites.net")," for Host, and advance to ",(0,o.kt)("strong",{parentName:"p"},"Security"),"."))),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Lab-03 Image",src:a(5485).Z,width:"698",height:"552"})),(0,o.kt)("ol",{start:13},(0,o.kt)("li",{parentName:"ol"},"Review the security configuration and advance to ",(0,o.kt)("strong",{parentName:"li"},"Definition"),".")),(0,o.kt)("admonition",{title:"Note",type:"tip"},(0,o.kt)("p",{parentName:"admonition"},"Do not navigate away from this page.")),(0,o.kt)("h2",{id:"13-modify-the-definition"},"1.3 Modify the definition"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Select the ",(0,o.kt)("strong",{parentName:"li"},"AddCredit")," action."),(0,o.kt)("li",{parentName:"ol"},"Select ",(0,o.kt)("strong",{parentName:"li"},"Important")," for Visibility.")),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Lab-03 Image",src:a(6039).Z,width:"936",height:"443"})),(0,o.kt)("ol",{start:3},(0,o.kt)("li",{parentName:"ol"},"Scroll down to the ",(0,o.kt)("strong",{parentName:"li"},"Request")," section, click on the chevron button of the ",(0,o.kt)("strong",{parentName:"li"},"body")," and select ",(0,o.kt)("strong",{parentName:"li"},"Edit"),".")),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Lab-03 Image",src:a(7097).Z,width:"821",height:"288"})),(0,o.kt)("ol",{start:4},(0,o.kt)("li",{parentName:"ol"},"Click on the chevron button of ",(0,o.kt)("strong",{parentName:"li"},"points")," and select ",(0,o.kt)("strong",{parentName:"li"},"Edit"),".")),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Lab-03 Image",src:a(5909).Z,width:"608",height:"241"})),(0,o.kt)("ol",{start:5},(0,o.kt)("li",{parentName:"ol"},"Select ",(0,o.kt)("strong",{parentName:"li"},"Yes")," for Is required and click on the ",(0,o.kt)("strong",{parentName:"li"},"Back")," button.")),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Lab-03 Image",src:a(7542).Z,width:"693",height:"474"})),(0,o.kt)("ol",{start:6},(0,o.kt)("li",{parentName:"ol"},"Click on the chevron button of ",(0,o.kt)("strong",{parentName:"li"},"recipientid")," and select ",(0,o.kt)("strong",{parentName:"li"},"Edit"),"."),(0,o.kt)("li",{parentName:"ol"},"Select Yes for Is required and click on the ",(0,o.kt)("strong",{parentName:"li"},"Back")," button."),(0,o.kt)("li",{parentName:"ol"},"Click on the chevron button of name and select ",(0,o.kt)("strong",{parentName:"li"},"Edit"),"."),(0,o.kt)("li",{parentName:"ol"},"Select Yes for Is required and click on the ",(0,o.kt)("strong",{parentName:"li"},"Back")," button."),(0,o.kt)("li",{parentName:"ol"},"Click on the ",(0,o.kt)("strong",{parentName:"li"},"Back")," button again.")),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Lab-03 Image",src:a(227).Z,width:"745",height:"617"})),(0,o.kt)("ol",{start:11},(0,o.kt)("li",{parentName:"ol"},"Advance to ",(0,o.kt)("strong",{parentName:"li"},"Code"),"."),(0,o.kt)("li",{parentName:"ol"},"Review the code and advance to ",(0,o.kt)("strong",{parentName:"li"},"Test"),"."),(0,o.kt)("li",{parentName:"ol"},"Click ",(0,o.kt)("strong",{parentName:"li"},"Update connector")," and wait for the connector to be updated")),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Lab-03 Image",src:a(6486).Z,width:"940",height:"363"})),(0,o.kt)("admonition",{title:"Note",type:"tip"},(0,o.kt)("p",{parentName:"admonition"},"Do not navigate away from this page.")),(0,o.kt)("h2",{id:"14-test-connector"},"1.4 Test connector"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Open a new browser tab or window and navigate to ",(0,o.kt)("a",{parentName:"p",href:"https://aka.ms/lowcode-february/workshop/contoso"},(0,o.kt)("strong",{parentName:"a"},"Contoso Coffee Badges")))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Click on open the ",(0,o.kt)("strong",{parentName:"p"},"API Key")," link"))),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Lab-03 Image",src:a(1462).Z,width:"784",height:"467"})),(0,o.kt)("ol",{start:3},(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Copy the ",(0,o.kt)("strong",{parentName:"p"},"API Key"),". Save this key you will use it multiple times.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Go back to the connector test page and click ",(0,o.kt)("strong",{parentName:"p"},"+ New Connection"),"."))),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Lab-03 Image",src:a(3671).Z,width:"816",height:"325"})),(0,o.kt)("ol",{start:5},(0,o.kt)("li",{parentName:"ol"},"Paste the API Key you copied and click ",(0,o.kt)("strong",{parentName:"li"},"Create connection"),".")),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Lab-03 Image",src:a(5991).Z,width:"485",height:"268"})),(0,o.kt)("ol",{start:6},(0,o.kt)("li",{parentName:"ol"},"Click on the ",(0,o.kt)("strong",{parentName:"li"},"Refresh")," connections button.")),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Lab-03 Image",src:a(840).Z,width:"742",height:"229"})),(0,o.kt)("ol",{start:7},(0,o.kt)("li",{parentName:"ol"},"The connection you created should get selected."),(0,o.kt)("li",{parentName:"ol"},"Go to the ",(0,o.kt)("strong",{parentName:"li"},"AddCredit")," operation.")),(0,o.kt)("ol",{start:9},(0,o.kt)("li",{parentName:"ol"},"Enter your email address for ",(0,o.kt)("strong",{parentName:"li"},"recipientid"),", enter your name for ",(0,o.kt)("strong",{parentName:"li"},"name"),", enter ",(0,o.kt)("strong",{parentName:"li"},"1")," for points, and click ",(0,o.kt)("strong",{parentName:"li"},"Test operation"),".")),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Lab-03 Image",src:a(3704).Z,width:"827",height:"299"})),(0,o.kt)("ol",{start:10},(0,o.kt)("li",{parentName:"ol"},"The test should succeed, and the response should look like the image below.")),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Lab-03 Image",src:a(2958).Z,width:"752",height:"472"})))}m.isMDXComponent=!0},2200:(t,e,a)=>{a.d(e,{Z:()=>n});const n=a.p+"assets/images/lab03-01-897a9556c0bf8c2492a257997d5de43d.jpg"},9931:(t,e,a)=>{a.d(e,{Z:()=>n});const n=a.p+"assets/images/lab03-02-db231880fd3dd4368ad419750aff8a18.jpg"},3926:(t,e,a)=>{a.d(e,{Z:()=>n});const n=a.p+"assets/images/lab03-03-0716b0e172290a3cae66481ee6259719.jpg"},9928:(t,e,a)=>{a.d(e,{Z:()=>n});const n=a.p+"assets/images/lab03-04-f205eb58afae8291221096c41d242ccc.jpg"},7503:(t,e,a)=>{a.d(e,{Z:()=>n});const n=a.p+"assets/images/lab03-05-56dff1efc6ecb1e2092bbbcc5790dfe8.jpg"},6517:(t,e,a)=>{a.d(e,{Z:()=>n});const n=a.p+"assets/images/lab03-06-8a8801376ec35b4c97ac4b72fca12aad.jpg"},1995:(t,e,a)=>{a.d(e,{Z:()=>n});const n=a.p+"assets/images/lab03-07-e7ca1b58ab4f524ab5ee792e3c4b8744.jpg"},5485:(t,e,a)=>{a.d(e,{Z:()=>n});const n=a.p+"assets/images/lab03-08-906340de77052cc355fc35ddf121372d.jpg"},6039:(t,e,a)=>{a.d(e,{Z:()=>n});const n=a.p+"assets/images/lab03-09-31de6b3b42d24f31235ecad4c4f15350.png"},7097:(t,e,a)=>{a.d(e,{Z:()=>n});const n=a.p+"assets/images/lab03-10-5360e80e83280035e9d1db41b4e4d8b9.jpg"},5909:(t,e,a)=>{a.d(e,{Z:()=>n});const n=a.p+"assets/images/lab03-11-82b42d1fd8a413bf80d9750d34839f32.jpg"},7542:(t,e,a)=>{a.d(e,{Z:()=>n});const n=a.p+"assets/images/lab03-12-438a3fe99d078e9cf64de976930b9d15.jpg"},227:(t,e,a)=>{a.d(e,{Z:()=>n});const n=a.p+"assets/images/lab03-13-201cccf48ce98916188f20143998b33b.jpg"},6486:(t,e,a)=>{a.d(e,{Z:()=>n});const n=a.p+"assets/images/lab03-14-1fc3896baa42c119bc049272ace294f7.jpg"},1462:(t,e,a)=>{a.d(e,{Z:()=>n});const n=a.p+"assets/images/lab03-15-fbe441cd72a3537173f0c0cae9deff80.jpg"},3671:(t,e,a)=>{a.d(e,{Z:()=>n});const n=a.p+"assets/images/lab03-16-ab4743e155eb76806855614986ed09b8.jpg"},5991:(t,e,a)=>{a.d(e,{Z:()=>n});const n=a.p+"assets/images/lab03-17-67c82b4853e24a005dd20e82ea62a069.jpg"},840:(t,e,a)=>{a.d(e,{Z:()=>n});const n=a.p+"assets/images/lab03-18-9f51c815213a2662e90291b79eaf8394.jpg"},3704:(t,e,a)=>{a.d(e,{Z:()=>n});const n=a.p+"assets/images/lab03-19-f2f5b7bbfa8475baa8e6989673399cda.jpg"},2958:(t,e,a)=>{a.d(e,{Z:()=>n});const n=a.p+"assets/images/lab03-20-b4c761cbea3a5860415616ed76f89fdf.jpg"}}]);